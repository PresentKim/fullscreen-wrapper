{"version":3,"file":"fullscreen.js","sources":["../src/fullscreen.ts"],"sourcesContent":["const document = (window.document as any);\n\nclass FullScreen {\n    /**\n     * Returns true if document has the ability to display elements fullscreen and fullscreen is supported, or false otherwise.\n     * @see Document.fullscreenEnabled\n     */\n    public isEnabled: boolean;\n\n    /** @inner Name of element property */\n    public elementProperty: string;\n\n    /** @inner Name of request method */\n    public requestMethod: string;\n\n    /** @inner Name of exit method */\n    public exitMethod: string;\n\n    /** @inner Name of change event */\n    public changeEvent: string;\n\n    /** @inner Name of error event */\n    public errorEvent: string;\n\n    /** @inner */\n    constructor() {\n        this.isEnabled = false;\n        this.elementProperty = \"\";\n        this.requestMethod = \"\";\n        this.exitMethod = \"\";\n        this.changeEvent = \"\";\n        this.errorEvent = \"\";\n    }\n\n    /** Returns true if document has fullscreen element, or false otherwise. */\n    get isFullscreen(): boolean {\n        return Boolean(this.element);\n    }\n\n    /**\n     * Returns document's fullscreen element.\n     * @see Document.fullscreenElement\n     */\n    get element(): Element | undefined {\n        return document[this.elementProperty];\n    }\n\n    /**\n     * Displays element fullscreen and resolves promise when done.\n     * @see Element.requestFullscreen\n     */\n    request(element: Element = document.documentElement): boolean {\n        if (!(element as any)[this.requestMethod])\n            return false;\n\n        (element as any)[this.requestMethod]();\n        return true;\n    }\n\n    /**\n     * Stops document's fullscreen element from being displayed fullscreen and resolves promise when done.\n     * @see Element.exitFullscreen\n     */\n    exit(): boolean {\n        if (!document[this.exitMethod])\n            return false;\n\n        document[this.exitMethod]();\n        return true;\n    }\n\n    /** Appends an event listener for \"fullscreenchange\" event. The callback argument sets the callback that will be invoked when the event is dispatched. */\n    onChange(callback: (this: Document, ev: Event) => any): boolean {\n        if (!this.isEnabled)\n            return false;\n\n        document.addEventListener(this.changeEvent, callback, false);\n        return true;\n    }\n\n    /** Appends an event listener for \"fullscreenerror\" event. The callback argument sets the callback that will be invoked when the event is dispatched. */\n    onError(callback: (this: Document, ev: Event) => any): boolean {\n        if (!this.isEnabled)\n            return false;\n\n        document.addEventListener(this.errorEvent, callback, false);\n        return true;\n    }\n\n    /** Toggle fullscreen */\n    toggle(element: Element = document.documentElement): boolean {\n        return this.isFullscreen ? this.exit() : this.request(element);\n    }\n}\n\nconst fullscreen = new FullScreen();\nif (document.fullscreenEnabled) {\n    fullscreen.isEnabled = document.fullscreenEnabled;\n    fullscreen.elementProperty = \"fullscreenElement\";\n    fullscreen.requestMethod = \"requestFullscreen\";\n    fullscreen.exitMethod = \"exitFullscreen\";\n    fullscreen.changeEvent = \"fullscreenchange\";\n    fullscreen.errorEvent = \"fullscreenerror\";\n} else if (document.webkitFullscreenEnabled || document.webkitCancelFullScreen) {\n    fullscreen.isEnabled = document.fullscreenEnabled || Boolean(document.webkitCancelFullScreen);\n    fullscreen.requestMethod = \"webkitRequestFullScreen\";\n    fullscreen.changeEvent = \"webkitfullscreenchange\";\n    fullscreen.errorEvent = \"webkitfullscreenerror\";\n    if (document.webkitFullscreenEnabled) {\n        fullscreen.elementProperty = \"webkitFullscreenElement\";\n        fullscreen.exitMethod = \"webkitExitFullscreen\";\n    } else {\n        fullscreen.elementProperty = \"webkitCurrentFullScreenElement\";\n        fullscreen.exitMethod = \"webkitCancelFullScreen\";\n    }\n} else if (document.msFullscreenEnabled) {\n    fullscreen.isEnabled = document.msFullscreenEnabled;\n    fullscreen.elementProperty = \"msFullscreenElement\";\n    fullscreen.requestMethod = \"msRequestFullscreen\";\n    fullscreen.exitMethod = \"msExitFullscreen\";\n    fullscreen.changeEvent = \"MSFullscreenChange\";\n    fullscreen.errorEvent = \"MSFullscreenError\";\n} else if (document.mozFullScreenEnabled) {\n    fullscreen.isEnabled = document.mozFullScreenEnabled;\n    fullscreen.elementProperty = \"mozFullScreenElement\";\n    fullscreen.requestMethod = \"mozRequestFullScreen\";\n    fullscreen.exitMethod = \"mozCancelFullScreen\";\n    fullscreen.changeEvent = \"mozfullscreenchange\";\n    fullscreen.errorEvent = \"mozfullscreenerror\";\n}\n\nexport default fullscreen;"],"names":[],"mappings":"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"}